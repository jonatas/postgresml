<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Train and deploy models to make online predictions using only SQL, with an open source Postgres extension."><meta name=author content="PostrgesML Team"><link href=https://postgresml.org/gym/quick_start/ rel=canonical><link rel=icon href=/images/logos/favicon.ico><meta name=generator content="mkdocs-1.3.1, mkdocs-material-8.3.9"><title>Quick Start - PostgresML</title><link rel=stylesheet href=../../assets/stylesheets/main.1d29e8d0.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.cbb835fc.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=blue> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#quick-start class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=PostgresML class="md-header__button md-logo" aria-label=PostgresML data-md-component=logo> <img src=/images/logos/logo-small.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Postgres<span style="color: dodgerblue">ML</span> </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Quick Start </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=blue aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/postgresml/postgresml title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> postgresml/postgresml </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../user_guides/setup/quick_start_with_docker/ class=md-tabs__link> User Guides </a> </li> <li class=md-tabs__item> <a href=../../developer_guide/overview/ class=md-tabs__link> Developer Guide </a> </li> <li class=md-tabs__item> <a href=../../about/team/ class=md-tabs__link> About </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=PostgresML class="md-nav__button md-logo" aria-label=PostgresML data-md-component=logo> <img src=/images/logos/logo-small.png alt=logo> </a> Postgres<span style="color: dodgerblue">ML</span> </label> <div class=md-nav__source> <a href=https://github.com/postgresml/postgresml title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> postgresml/postgresml </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> User Guides <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="User Guides" data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> User Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_1 type=checkbox id=__nav_2_1> <label class=md-nav__link for=__nav_2_1> Setup <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Setup data-md-level=2> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> Setup </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user_guides/setup/quick_start_with_docker/ class=md-nav__link> Quick Start with Docker </a> </li> <li class=md-nav__item> <a href=../../user_guides/setup/native_installation/ class=md-nav__link> Native Installation </a> </li> <li class=md-nav__item> <a href=../../user_guides/setup/distributed_training/ class=md-nav__link> Distributed Training </a> </li> <li class=md-nav__item> <a href=../../user_guides/setup/gpu_support/ class=md-nav__link> GPU Support </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_2 type=checkbox id=__nav_2_2> <label class=md-nav__link for=__nav_2_2> Training <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Training data-md-level=2> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Training </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user_guides/training/overview/ class=md-nav__link> Training Overview </a> </li> <li class=md-nav__item> <a href=../../user_guides/training/algorithm_selection/ class=md-nav__link> Algorithm Selection </a> </li> <li class=md-nav__item> <a href=../../user_guides/training/hyperparameter_search/ class=md-nav__link> Hyperparameter Search </a> </li> <li class=md-nav__item> <a href=../../user_guides/training/joint_optimization/ class=md-nav__link> Joint Optimization </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_3 type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3> Predictions <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Predictions data-md-level=2> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Predictions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user_guides/predictions/overview/ class=md-nav__link> Prediction Overview </a> </li> <li class=md-nav__item> <a href=../../user_guides/predictions/deployments/ class=md-nav__link> Deploying Models </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4 type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4> Transformers <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Transformers data-md-level=2> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Transformers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user_guides/transformers/setup/ class=md-nav__link> Setup </a> </li> <li class=md-nav__item> <a href=../../user_guides/transformers/pre_trained_models/ class=md-nav__link> Pre-Trained Models </a> </li> <li class=md-nav__item> <a href=../../user_guides/transformers/fine_tuning/ class=md-nav__link> Fine Tuning </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../user_guides/vector_operations/overview/ class=md-nav__link> Vector Operations </a> </li> <li class=md-nav__item> <a href=../../user_guides/dashboard/overview/ class=md-nav__link> Dashboard </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_7 type=checkbox id=__nav_2_7> <label class=md-nav__link for=__nav_2_7> Schema <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Schema data-md-level=2> <label class=md-nav__title for=__nav_2_7> <span class="md-nav__icon md-icon"></span> Schema </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../user_guides/schema/models/ class=md-nav__link> Models </a> </li> <li class=md-nav__item> <a href=../../user_guides/schema/snapshots/ class=md-nav__link> Snapshots </a> </li> <li class=md-nav__item> <a href=../../user_guides/schema/projects/ class=md-nav__link> Projects </a> </li> <li class=md-nav__item> <a href=../../user_guides/schema/deployments/ class=md-nav__link> Deployments </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Developer Guide <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Developer Guide" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Developer Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../developer_guide/overview/ class=md-nav__link> Developer Overview </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4> About <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=About data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../about/team/ class=md-nav__link> Team </a> </li> <li class=md-nav__item> <a href=../../about/roadmap/ class=md-nav__link> Roadmap </a> </li> <li class=md-nav__item> <a href=../../about/motivation/ class=md-nav__link> Motivation </a> </li> <li class=md-nav__item> <a href=../../about/faq/ class=md-nav__link> FAQ </a> </li> <li class=md-nav__item> <a href=../../about/license/ class=md-nav__link> License </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#get-data class=md-nav__link> Get data </a> </li> <li class=md-nav__item> <a href=#browse-data class=md-nav__link> Browse data </a> </li> <li class=md-nav__item> <a href=#first-project class=md-nav__link> First project </a> </li> <li class=md-nav__item> <a href=#inference class=md-nav__link> Inference </a> </li> <li class=md-nav__item> <a href=#browse-around class=md-nav__link> Browse around </a> </li> <li class=md-nav__item> <a href=#conclusion class=md-nav__link> Conclusion </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/postgresml/postgresml/blob/master/pgml-docs/docs/gym/quick_start.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1 id=quick-start>Quick Start<a class=headerlink href=#quick-start title="Permanent link">&para;</a></h1> <p>PostgresML is easy to get started with. If you haven't already, sign up for our <a href=https://gym.postgresml.org/signup/ >Gym</a> to get a free hosted PostgresML instance you can use to follow this tutorial. You can also run one yourself by following the instructions in our Github repo.</p> <p align=center> <a href=https://gym.postgresml.org/signup/ class="md-button md-button--primary md-button">Sign Up for the Gym</a> </p> <p>Once you have your PostgresML instance running, we'll be ready to get started.</p> <h2 id=get-data>Get data<a class=headerlink href=#get-data title="Permanent link">&para;</a></h2> <p>The fisrt part of machine learning is getting your data in a format you can use. That's usually the hardest part, but thankfully we have a few example datasets we can use. To load one of them, navigate to the IDE tab and run this query:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>pgml</span><span class=p>.</span><span class=n>load_dataset</span><span class=p>(</span><span class=s1>&#39;diabetes&#39;</span><span class=p>);</span><span class=w></span>
</code></pre></div> <p>You should see something like this:</p> <p><img alt=IDE src=/gym/ide.png></p> <p>We have more example <a href=https://scikit-learn.org/stable/datasets/toy_dataset.html>Scikit datasets</a> available:</p> <ul> <li><code>iris</code> (classification),</li> <li><code>digits</code> (classification),</li> <li><code>wine</code> (regression),</li> </ul> <p>To load them into PostgresML, use the same function above with the desired dataset name as parameter. They will become available in the <code>pgml</code> schema as <code>pgml.iris</code>, <code>pgml.digits</code> and <code>pgml.wine</code> respectively.</p> <h2 id=browse-data>Browse data<a class=headerlink href=#browse-data title="Permanent link">&para;</a></h2> <p>The SQL editor you just used can run arbitrary queries on the PostgresML instance. For example, if we want to see what dataset we just loaded looks like, we can run:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>pgml</span><span class=p>.</span><span class=n>diabetes</span><span class=w> </span><span class=k>LIMIT</span><span class=w> </span><span class=mi>5</span><span class=p>;</span><span class=w></span>
</code></pre></div> <p><img alt=Data src=/gym/data.png></p> <p>The <code>diabetes</code> dataset is a toy (small, not realistic) dataset published by Scikit Learn. It contains ten feature columns and one label column:</p> <table> <thead> <tr> <th><strong>Column</strong></th> <th><strong>Description</strong></th> <th><strong>Data type</strong></th> </tr> </thead> <tbody> <tr> <td>age</td> <td>The age of the patient (in years).</td> <td>float</td> </tr> <tr> <td>sex</td> <td>The sex of the patient (normalized).</td> <td>float</td> </tr> <tr> <td>bmi</td> <td>The BMI Body Mass index.</td> <td>float</td> </tr> <tr> <td>bp</td> <td>Average blood pressure of the patient.</td> <td>float</td> </tr> <tr> <td>s1</td> <td>Total serum cholesterol.</td> <td>float</td> </tr> <tr> <td>s2</td> <td>Low-density lipoproteins.</td> <td>float</td> </tr> <tr> <td>s3</td> <td>High-density lipoproteins.</td> <td>float</td> </tr> <tr> <td>s4</td> <td>Total cholesterol / HDL.</td> <td>float</td> </tr> <tr> <td>s5</td> <td>Possibly log of serum triglycerides level.</td> <td>float</td> </tr> <tr> <td>s6</td> <td>Blood sugar level.</td> <td>float</td> </tr> <tr> <td><strong>target</strong></td> <td>Quantitative measure of disease progression one year after baseline.</td> <td>float</td> </tr> </tbody> </table> <p>This dataset is not realistic because all data is perfectly arranged and normalized, which won't be the case with most real world datasets you'll run into, but it's perfect for our quick tutorial.</p> <p>Alright, we're ready to do some machine learning!</p> <h2 id=first-project>First project<a class=headerlink href=#first-project title="Permanent link">&para;</a></h2> <p>PostgresML organizes itself into projects. A project is just a name for model(s) trained on a particular dataset. Let's create our first project by training an XGBoost regression model on our diabetes dataset.</p> <p>Using the IDE, run:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>pgml</span><span class=p>.</span><span class=n>train</span><span class=p>(</span><span class=w></span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=w>    </span><span class=s1>&#39;My First Project&#39;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=w>    </span><span class=n>task</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;regression&#39;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=w>    </span><span class=n>relation_name</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;pgml.diabetes&#39;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=w>    </span><span class=n>y_column_name</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;target&#39;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=w>    </span><span class=n>algorithm</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;xgboost&#39;</span><span class=p>);</span><span class=w></span>
</code></pre></div> <p>You should see this:</p> <p><img alt=Train src=/gym/train.png></p> <p>By executing <code>pmgl.train()</code> we did the following:</p> <ul> <li>created a project called "My First Project",</li> <li>snapshotted the table <code>pgml.diabetes</code> thus making the experiment reproducible (in case data changes, as it happens in the real world),</li> <li>trained an XGBoost regression model on the data contained in the <code>pgml.diabetes</code> table using the column <code>target</code> as the label,</li> <li>deployed the model into production.</li> </ul> <p>We're ready to predict novel data points!</p> <h2 id=inference>Inference<a class=headerlink href=#inference title="Permanent link">&para;</a></h2> <p>Inference is the act of predicting labels that we haven't necessarily used in training. That's the whole point of machine learning really: predict something we haven't seen before.</p> <p>Let's try and predict some new values. Using the IDE, run:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=k>SELECT</span><span class=w> </span><span class=n>pgml</span><span class=p>.</span><span class=n>predict</span><span class=p>(</span><span class=w></span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=w>    </span><span class=s1>&#39;My First Project&#39;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=w>    </span><span class=nb>ARRAY</span><span class=p>[</span><span class=w></span>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=w>        </span><span class=mi>0</span><span class=p>.</span><span class=mi>06</span><span class=p>,</span><span class=w> </span><span class=c1>-- age</span>
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=w>        </span><span class=mi>0</span><span class=p>.</span><span class=mi>05</span><span class=p>,</span><span class=w> </span><span class=c1>-- sex</span>
<a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=w>        </span><span class=mi>0</span><span class=p>.</span><span class=mi>05</span><span class=p>,</span><span class=w> </span><span class=c1>-- bmi</span>
<a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=w>        </span><span class=o>-</span><span class=mi>0</span><span class=p>.</span><span class=mi>0056</span><span class=p>,</span><span class=w> </span><span class=c1>-- bp</span>
<a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=w>        </span><span class=mi>0</span><span class=p>.</span><span class=mi>012191</span><span class=p>,</span><span class=w> </span><span class=c1>-- s1</span>
<a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=w>        </span><span class=o>-</span><span class=mi>0</span><span class=p>.</span><span class=mi>043401</span><span class=p>,</span><span class=w> </span><span class=c1>-- s2</span>
<a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=w>        </span><span class=mi>0</span><span class=p>.</span><span class=mi>034309</span><span class=p>,</span><span class=w> </span><span class=c1>-- s3</span>
<a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=w>        </span><span class=o>-</span><span class=mi>0</span><span class=p>.</span><span class=mi>031938</span><span class=p>,</span><span class=w> </span><span class=c1>-- s4</span>
<a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a><span class=w>        </span><span class=o>-</span><span class=mi>0</span><span class=p>.</span><span class=mi>061988</span><span class=p>,</span><span class=w> </span><span class=c1>--s5</span>
<a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=w>        </span><span class=o>-</span><span class=mi>0</span><span class=p>.</span><span class=mi>031988</span><span class=w> </span><span class=c1>-- s6</span>
<a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a><span class=w>    </span><span class=p>]</span><span class=w></span>
<a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a><span class=p>)</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=n>prediction</span><span class=p>;</span><span class=w></span>
</code></pre></div> <p>You should see something like this:</p> <p><img alt=Prediction src=/gym/predict.png></p> <p>The <code>prediction</code> column represents the possible value of the <code>target</code> column given the new features we just passed into the <code>pgml.predict()</code> function. You can just as easily predict multiple points and compare them to the actual labels in the dataset:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=k>SELECT</span><span class=w></span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=w>    </span><span class=n>pgml</span><span class=p>.</span><span class=n>predict</span><span class=p>(</span><span class=s1>&#39;My First Project 2&#39;</span><span class=p>,</span><span class=w> </span><span class=nb>ARRAY</span><span class=p>[</span><span class=w></span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=w>        </span><span class=n>age</span><span class=p>,</span><span class=w> </span><span class=n>sex</span><span class=p>,</span><span class=w> </span><span class=n>bmi</span><span class=p>,</span><span class=w> </span><span class=n>bp</span><span class=p>,</span><span class=w> </span><span class=n>s1</span><span class=p>,</span><span class=w> </span><span class=n>s3</span><span class=p>,</span><span class=w> </span><span class=n>s3</span><span class=p>,</span><span class=w> </span><span class=n>s4</span><span class=p>,</span><span class=w> </span><span class=n>s5</span><span class=p>,</span><span class=w> </span><span class=n>s6</span><span class=w></span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=w>    </span><span class=p>]),</span><span class=w></span>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=w>    </span><span class=n>target</span><span class=w></span>
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=k>FROM</span><span class=w> </span><span class=n>pgml</span><span class=p>.</span><span class=n>diabetes</span><span class=w> </span><span class=k>LIMIT</span><span class=w> </span><span class=mi>10</span><span class=p>;</span><span class=w></span>
</code></pre></div> <p>Sometimes the model will be pretty close, but sometimes it will be way off. That's why we'll be training several of them and comparing them next.</p> <h2 id=browse-around>Browse around<a class=headerlink href=#browse-around title="Permanent link">&para;</a></h2> <p>By creating our first project, we made the Dashboard a little bit more interesting. This is how the <code>pgml.diabetes</code> snapshot we just created looks like:</p> <p><img alt=Snapshot src=/gym/snapshot.png></p> <p>As you can see, we automatically performed some analysis on the data. Visualizing the data is important to understand how it could potentially behave given different models, and maybe even predict how it could evolve in the future.</p> <p>XGBoost is a good algorithm, but what if there are better ones? Let's try training a few more using the IDE. Run these one at a time:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=c1>-- Simple linear regression.</span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>pgml</span><span class=p>.</span><span class=n>train</span><span class=p>(</span><span class=w></span>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=w>    </span><span class=s1>&#39;My First Project&#39;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=w>    </span><span class=n>algorithm</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;linear&#39;</span><span class=p>);</span><span class=w></span>
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>
<a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=c1>-- The Lasso (much fancier linear regression).</span>
<a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=k>SELECT</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>FROM</span><span class=w> </span><span class=n>pgml</span><span class=p>.</span><span class=n>train</span><span class=p>(</span><span class=w></span>
<a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=w>    </span><span class=s1>&#39;My First Project&#39;</span><span class=p>,</span><span class=w></span>
<a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=w>    </span><span class=n>algorithm</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;lasso&#39;</span><span class=p>);</span><span class=w> </span>
</code></pre></div> <p>If you navigate to the Models tab, you should see all three algorithms you just trained:</p> <p><img alt="Trained Algorithms" src=/gym/trained_models.png></p> <p>Huh, apparently XGBoost isn't as good we originally thought! In this case, a simple linear regression did significantly better than all the others. It's hard to know which algorithm will perform best given a dataset; even experienced machine learning engineers get this one wrong.</p> <p>With PostgresML, you needn't worry: you can train all of them and see which one does best for your data. PostgresML will automatically use the best one for inference.</p> <h2 id=conclusion>Conclusion<a class=headerlink href=#conclusion title="Permanent link">&para;</a></h2> <p>Congratulations on becoming a Machine Learning engineer. If you thought ML was scary or mysterious, we hope that this small tutorial made it a little bit more approachable.</p> <p>This is the first of many tutorials we'll publish, so stay tuned. Happy machine learning!</p> <h2 id=__comments>Comments</h2> <script src=https://giscus.app/client.js data-repo=postgresml/postgresml data-repo-id=R_kgDOHJ_hQA data-category=Announcements data-category-id=DIC_kwDOHJ_hQM4CQctz data-mapping=title data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=light data-lang=en crossorigin=anonymous async>
</script> <script>
  var giscus = document.querySelector("script[src*=giscus]")

  /* Set palette on initial load */
  var palette = __md_get("__palette")
  if (palette && typeof palette.color === "object") {
    var theme = palette.color.scheme === "slate" ? "dark" : "light"
    giscus.setAttribute("data-theme", theme) 
  }

  /* Register event handlers after documented loaded */
  document.addEventListener("DOMContentLoaded", function() {
    var ref = document.querySelector("[data-md-component=palette]")
    ref.addEventListener("change", function() {
      var palette = __md_get("__palette")
      if (palette && typeof palette.color === "object") {
        var theme = palette.color.scheme === "slate" ? "dark" : "light"

        /* Instruct Giscus to change theme */
        var frame = document.querySelector(".giscus-frame")
        frame.contentWindow.postMessage(
          { giscus: { setConfig: { theme } } },
          "https://giscus.app"
        )
      }
    })
  })
</script> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2022 PostgresML Team </div> </div> <div class=md-social> <a href=https://github.com/postgresml target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://pypi.org/project/pgml-extension/ target=_blank rel=noopener title=pypi.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.top", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../assets/javascripts/bundle.6c7ad80a.min.js></script> </body> </html>